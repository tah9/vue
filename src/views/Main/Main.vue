<template>
  <div>
    <router-view></router-view>
    <div class="tab-layout">
      <div v-for="(tab,index) in tabs" @click="clickTab(tab.url,index)">
        <svg class="icon" :fill="curIndex===index?'#3a465e':'#c0c0c0'" viewBox="0 0 1024 1024" version="1.1"
             xmlns="http://www.w3.org/2000/svg"
             width="32" height="32" v-html="tab.icon">
        </svg>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "Main",
  props: {},
  data() {
    return {
      curIndex: 0,
      tabs: [{
        icon: '<path d="M876.48 981.312H147.52a104.832 104.832 0 0 1-104.832-104.832V469.76a46.08 46.08 0 0 1 46.912-46.912 46.08 46.08 0 0 1 46.912 46.912v406.72c0 6.272 4.736 11.008 10.944 11.008h729.088a10.688 10.688 0 0 0 10.88-11.008V469.76a46.08 46.08 0 0 1 46.976-46.912 46.08 46.08 0 0 1 46.912 46.912v406.72c0 57.92-46.912 104.832-104.832 104.832z" ></path><path d="M934.4 516.672a49.664 49.664 0 0 1-31.296-12.48L512 152.192l-391.104 352a46.784 46.784 0 0 1-65.728-3.2 48.64 48.64 0 0 1 3.2-67.2l422.4-378.624a47.616 47.616 0 0 1 62.528 0l422.4 378.624a46.784 46.784 0 0 1 3.136 65.664 46.08 46.08 0 0 1-34.432 17.28z"></path><path d="M627.776 981.312H396.16a46.08 46.08 0 0 1-46.912-46.912V558.912A46.08 46.08 0 0 1 396.16 512h229.952a46.08 46.08 0 0 1 46.976 46.912V934.4a44.8 44.8 0 0 1-45.44 46.912z m-184.64-93.824h136.128v-281.6H443.136v281.6z" p-id="17116"></path>\n' +
            '    ',
        url: '/main/home'
      }, {
        icon: '<path d="M171.712 571.648l0.352 0.32 287.904 252.8a64 64 0 0 0 82.912 1.344l296.832-244.544a215.584 215.584 0 1 0-301.824-300.576L512 316.672l-25.888-35.616a215.584 215.584 0 1 0-314.4 290.624zM32 407.584a279.584 279.584 0 0 1 480-194.944 279.584 279.584 0 0 1 480 194.944 278.144 278.144 0 0 1-113.024 224.512l-295.36 243.392a128 128 0 0 1-165.888-2.592L129.984 620.16A278.976 278.976 0 0 1 32 407.584z" p-id="18178"></path>',
        url: '/main/center'
      }, {
        icon: '<path d="M754.57332 969.11c-10.65-17.66-6.08-40.55 10.64-52.61C887.33332 828.49 954.95332 685 942.80332 530.65 926.83332 327.54 765.41332 160.18 563.00332 136.87 301.98332 106.81 79.79332 311.01 79.79332 566.13c0 81.51 22.31 159.56 64.81 227.83 10.86 17.45 6.34 40.29-10.15 52.56-18.72 13.93-45.53 8.97-57.85-10.85C23.05332 749.55-3.36668 650.32 0.34332 547.03 9.29332 298.12 201.01332 88.02 448.27332 58.01 758.93332 20.3 1024.00332 262.84 1024.00332 566.13c0 166.61-78.48 318.78-211.97 414.98-18.86 13.59-45.45 7.91-57.46-12z"  ></path>' +
            '<path d="M337.68332 530.7c-22.63 0-40.97-18.34-40.97-40.97v-42.17c0-22.63 18.34-40.97 40.97-40.97s40.97 18.34 40.97 40.97v42.17c0 22.63-18.35 40.97-40.97 40.97zM499.95332 530.7c-22.63 0-40.97-18.34-40.97-40.97v-42.17c0-22.63 18.34-40.97 40.97-40.97s40.97 18.34 40.97 40.97v42.17c0.01 22.63-18.34 40.97-40.97 40.97zM416.59332 718.29c-23.98 0-55.5-12.13-80.95-25.75-20.27-10.85-24.3-38.15-8.04-54.41 10.72-10.72 27.21-13.19 40.49-5.88 15.2 8.36 35.34 17.65 49.75 17.65 17.71 0 34.71-4.67 49.59-13.42 13.16-7.74 29.93-5.15 40.72 5.64l1.77 1.77c15.47 15.47 13.04 41.92-5.75 53.14-25.83 15.43-56.7 21.26-87.58 21.26z"  ></path>',
        url: '/main/me'
      },]
    }
  },
  methods: {
    clickTab(url,index) {
      if (url===this.$route.path){
        return
      }
      this.curIndex = index;
      this.$router.replace(url)
    }
  },
  created() {
    for (let i = 0; i < this.tabs.length; i++) {
      if (this.tabs[i].url===this.$route.path){
        this.curIndex=i
      }
    }
  }
}
</script>

<style scoped>
.tab-layout {
  position: fixed;
  bottom: 0;
  /*border-top: 1px solid #c0c0c0;*/
  width: 100%;
  display: flex;
  padding: 0 1.5em;
  box-sizing: border-box;
  height: 44px;
  align-items: center;
}

.tab-layout > div {
  flex: 1;
  text-align: center;
}

.icon {
  width: 25px;
  height: 25px;
}
</style>
